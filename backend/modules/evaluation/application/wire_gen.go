// Code generated by Wire. DO NOT EDIT.

//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package application

import (
	"context"
	"github.com/coze-dev/coze-loop/backend/infra/ck"
	"github.com/coze-dev/coze-loop/backend/infra/db"
	"github.com/coze-dev/coze-loop/backend/infra/external/audit"
	"github.com/coze-dev/coze-loop/backend/infra/external/benefit"
	"github.com/coze-dev/coze-loop/backend/infra/fileserver"
	"github.com/coze-dev/coze-loop/backend/infra/idgen"
	"github.com/coze-dev/coze-loop/backend/infra/limiter"
	"github.com/coze-dev/coze-loop/backend/infra/lock"
	"github.com/coze-dev/coze-loop/backend/infra/metrics"
	"github.com/coze-dev/coze-loop/backend/infra/mq"
	"github.com/coze-dev/coze-loop/backend/infra/platestwrite"
	"github.com/coze-dev/coze-loop/backend/infra/redis"
	"github.com/coze-dev/coze-loop/backend/kitex_gen/coze/loop/apis/promptexecuteservice"
	"github.com/coze-dev/coze-loop/backend/kitex_gen/coze/loop/data/dataset/datasetservice"
	"github.com/coze-dev/coze-loop/backend/kitex_gen/coze/loop/data/tag/tagservice"
	"github.com/coze-dev/coze-loop/backend/kitex_gen/coze/loop/evaluation"
	"github.com/coze-dev/coze-loop/backend/kitex_gen/coze/loop/foundation/auth/authservice"
	"github.com/coze-dev/coze-loop/backend/kitex_gen/coze/loop/foundation/file/fileservice"
	"github.com/coze-dev/coze-loop/backend/kitex_gen/coze/loop/foundation/user/userservice"
	"github.com/coze-dev/coze-loop/backend/kitex_gen/coze/loop/llm/runtime/llmruntimeservice"
	"github.com/coze-dev/coze-loop/backend/kitex_gen/coze/loop/observability/observabilitytraceservice"
	"github.com/coze-dev/coze-loop/backend/kitex_gen/coze/loop/prompt/promptmanageservice"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/domain/component/rpc"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/domain/component/userinfo"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/domain/service"
	metrics3 "github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/metrics/eval_target"
	metrics4 "github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/metrics/evaluation_set"
	evaluator2 "github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/metrics/evaluator"
	metrics2 "github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/metrics/experiment"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/metrics/openapi"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/mq/rocket/producer"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/repo/evaluator"
	mysql2 "github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/repo/evaluator/mysql"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/repo/experiment"
	ck2 "github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/repo/experiment/ck"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/repo/experiment/mysql"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/repo/experiment/redis/dao"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/repo/idem"
	redis2 "github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/repo/idem/redis"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/repo/target"
	mysql3 "github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/repo/target/mysql"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/rpc/agent"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/rpc/data"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/rpc/foundation"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/rpc/llm"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/rpc/notify"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/rpc/prompt"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/rpc/tag"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/rpc/trajectory"
	"github.com/coze-dev/coze-loop/backend/modules/evaluation/infra/runtime"
	conf2 "github.com/coze-dev/coze-loop/backend/modules/evaluation/pkg/conf"
	"github.com/coze-dev/coze-loop/backend/pkg/conf"
	"github.com/google/wire"
)

// Injectors from wire.go:

func InitExperimentApplication(ctx context.Context, idgen2 idgen.IIDGenerator, db2 db.Provider, configFactory conf.IConfigLoaderFactory, rmqFactory mq.IFactory, cmdable redis.Cmdable, auditClient audit.IAuditService, meter metrics.Meter, authClient authservice.Client, evalSetService evaluation.EvaluationSetService, evaluatorService evaluation.EvaluatorService, targetService evaluation.EvalTargetService, uc userservice.Client, pms promptmanageservice.Client, pes promptexecuteservice.Client, sds datasetservice.Client, limiterFactory limiter.IRateLimiterFactory, llmcli llmruntimeservice.Client, benefitSvc benefit.IBenefitService, ckDb ck.Provider, tagClient tagservice.Client, objectStorage fileserver.ObjectStorage, plainLimiterFactory limiter.IPlainRateLimiterFactory, trajectoryAdapter rpc.ITrajectoryAdapter, fileClient fileservice.Client) (IExperimentApplication, error) {
	exptTurnResultDAO := mysql.NewExptTurnResultDAO(db2)
	iExptTurnEvaluatorResultRefDAO := mysql.NewExptTurnEvaluatorResultRefDAO(db2)
	iExptTurnResultRepo := experiment.NewExptTurnResultRepo(idgen2, exptTurnResultDAO, iExptTurnEvaluatorResultRefDAO)
	exptAggrResultDAO := mysql.NewExptAggrResultDAO(db2)
	iExptAggrResultRepo := experiment.NewExptAggrResultRepo(exptAggrResultDAO, idgen2)
	iExptDAO := mysql.NewExptDAO(db2)
	iExptEvaluatorRefDAO := mysql.NewExptEvaluatorRefDAO(db2)
	iExperimentRepo := experiment.NewExptRepo(iExptDAO, iExptEvaluatorRefDAO, idgen2)
	exptMetric := metrics2.NewExperimentMetric(meter)
	iConfiger := conf2.NewEvaluatorConfiger(configFactory)
	rateLimiter := evaluator.NewRateLimiterImpl(ctx, limiterFactory, iConfiger)
	evaluatorDAO := mysql2.NewEvaluatorDAO(db2)
	evaluatorVersionDAO := mysql2.NewEvaluatorVersionDAO(db2)
	evaluatorTagDAO := mysql2.NewEvaluatorTagDAO(db2)
	iLatestWriteTracker := platestwrite.NewLatestWriteTracker(cmdable)
	evaluatorTemplateDAO := mysql2.NewEvaluatorTemplateDAO(db2)
	iEvaluatorRepo := evaluator.NewEvaluatorRepo(idgen2, db2, evaluatorDAO, evaluatorVersionDAO, evaluatorTagDAO, iLatestWriteTracker, evaluatorTemplateDAO)
	evaluatorRecordDAO := mysql2.NewEvaluatorRecordDAO(db2)
	iEvaluatorRecordRepo := evaluator.NewEvaluatorRecordRepo(idgen2, db2, evaluatorRecordDAO)
	iIdemDAO := redis2.NewIdemDAO(cmdable)
	idempotentService := idem.NewIdempotentService(iIdemDAO)
	illmProvider := llm.NewLLMRPCProvider(llmcli)
	evaluatorExecMetrics := evaluator2.NewEvaluatorMetrics(meter)
	logger := runtime.NewLogger()
	sandboxConfig := runtime.NewSandboxConfig()
	iRuntimeFactory := runtime.NewRuntimeFactory(logger, sandboxConfig)
	iRuntimeManager := runtime.NewRuntimeManagerFromFactory(iRuntimeFactory, logger)
	codeBuilderFactory := service.NewCodeBuilderFactory()
	v := service.NewEvaluatorSourceServices(illmProvider, evaluatorExecMetrics, iConfiger, iRuntimeManager, codeBuilderFactory)
	iPlainRateLimiter := evaluator.NewPlainRateLimiterImpl(plainLimiterFactory)
	serviceEvaluatorService := service.NewEvaluatorServiceImpl(idgen2, rateLimiter, rmqFactory, iEvaluatorRepo, iEvaluatorRecordRepo, idempotentService, iConfiger, v, iPlainRateLimiter)
	exptEventPublisher, err := producer.NewExptEventPublisher(ctx, configFactory, rmqFactory)
	if err != nil {
		return nil, err
	}
	evaluatorEventPublisher, err := producer.NewEvaluatorEventPublisher(ctx, configFactory, rmqFactory)
	if err != nil {
		return nil, err
	}
	iUserProvider := foundation.NewUserRPCProvider(uc)
	userInfoService := userinfo.NewUserInfoServiceImpl(iUserProvider)
	evaluatorRecordService := service.NewEvaluatorRecordServiceImpl(idgen2, iEvaluatorRecordRepo, exptEventPublisher, evaluatorEventPublisher, userInfoService, iExperimentRepo, iExptTurnResultRepo)
	iTagRPCAdapter := tag.NewTagRPCProvider(tagClient)
	iExptTurnAnnotateRecordRefDAO := mysql.NewExptTurnAnnotateRecordRefDAO(db2)
	iExptTurnResultTagRefDAO := mysql.NewExptTurnResultTagRefDAO(db2)
	iAnnotateRecordDAO := mysql.NewAnnotateRecordDAO(db2)
	iExptAnnotateRepo := experiment.NewExptAnnotateRepo(iExptTurnAnnotateRecordRefDAO, iExptTurnResultTagRefDAO, iAnnotateRecordDAO, idgen2)
	evalTargetDAO := mysql3.NewEvalTargetDAO(db2)
	evalTargetVersionDAO := mysql3.NewEvalTargetVersionDAO(db2)
	evalTargetRecordDAO := mysql3.NewEvalTargetRecordDAO(db2)
	iEvalTargetRepo := target.NewEvalTargetRepo(idgen2, db2, evalTargetDAO, evalTargetVersionDAO, evalTargetRecordDAO, iLatestWriteTracker)
	evalTargetMetrics := metrics3.NewEvalTargetMetrics(meter)
	iPromptRPCAdapter := prompt.NewPromptRPCAdapter(pms, pes)
	v2 := service.NewSourceTargetOperators(iPromptRPCAdapter)
	componentIConfiger, err := conf2.NewConfiger(configFactory)
	if err != nil {
		return nil, err
	}
	iEvalTargetService := service.NewEvalTargetServiceImpl(iEvalTargetRepo, idgen2, evalTargetMetrics, v2, trajectoryAdapter, componentIConfiger)
	iLocker := NewLock(cmdable)
	exptAggrResultService := service.NewExptAggrResultService(iExptTurnResultRepo, iExptAggrResultRepo, iExperimentRepo, exptMetric, serviceEvaluatorService, evaluatorRecordService, iTagRPCAdapter, iExptAnnotateRepo, iEvalTargetService, exptEventPublisher, iLocker)
	iExptItemResultDAO := mysql.NewExptItemResultDAO(db2)
	iExptItemResultRepo := experiment.NewExptItemResultRepo(iExptItemResultDAO)
	iExptStatsDAO := mysql.NewExptStatsDAO(db2)
	iExptStatsRepo := experiment.NewExptStatsRepo(iExptStatsDAO)
	iExptTurnResultFilterDAO := ck2.NewExptTurnResultFilterDAO(ckDb, componentIConfiger)
	iExptTurnResultFilterKeyMappingDAO := mysql.NewExptTurnResultFilterKeyMappingDAO(db2)
	iExptTurnResultFilterRepo := experiment.NewExptTurnResultFilterRepo(iExptTurnResultFilterDAO, iExptTurnResultFilterKeyMappingDAO)
	iDatasetRPCAdapter := data.NewDatasetRPCAdapter(sds)
	evaluationSetVersionService := service.NewEvaluationSetVersionServiceImpl(iDatasetRPCAdapter)
	iEvaluationSetService := service.NewEvaluationSetServiceImpl(iDatasetRPCAdapter)
	evaluationSetItemService := service.NewEvaluationSetItemServiceImpl(iDatasetRPCAdapter)
	iEvaluationAnalysisService := service.NewEvaluationAnalysisService()
	exptResultService := service.NewExptResultService(iExptItemResultRepo, iExptTurnResultRepo, iExptAnnotateRepo, iExptStatsRepo, iExperimentRepo, exptMetric, iLatestWriteTracker, idgen2, iExptTurnResultFilterRepo, serviceEvaluatorService, iEvalTargetService, evaluationSetVersionService, iEvaluationSetService, evaluatorRecordService, evaluationSetItemService, exptEventPublisher, iTagRPCAdapter, iEvaluationAnalysisService)
	iExptRunLogDAO := mysql.NewExptRunLogDAO(db2)
	iExptRunLogRepo := experiment.NewExptRunLogRepo(iExptRunLogDAO)
	iQuotaDAO := dao.NewQuotaDAO(cmdable)
	quotaRepo := experiment.NewQuotaService(iQuotaDAO, iLocker)
	iExptTemplateDAO := mysql.NewExptTemplateDAO(db2)
	iExptTemplateEvaluatorRefDAO := mysql.NewExptTemplateEvaluatorRefDAO(db2)
	iExptTemplateRepo := experiment.NewExptTemplateRepo(iExptTemplateDAO, iExptTemplateEvaluatorRefDAO, idgen2)
	iExptTemplateManager := service.NewExptTemplateManager(iExptTemplateRepo, idgen2, serviceEvaluatorService, iEvalTargetService, iEvaluationSetService, evaluationSetVersionService, iLatestWriteTracker)
	iNotifyRPCAdapter := notify.NewNotifyRPCAdapter()
	iExptManager := service.NewExptManager(exptResultService, iExperimentRepo, iExptRunLogRepo, iExptStatsRepo, iExptItemResultRepo, iExptTurnResultRepo, componentIConfiger, quotaRepo, iLocker, idempotentService, exptEventPublisher, auditClient, idgen2, exptMetric, iLatestWriteTracker, evaluationSetVersionService, iEvaluationSetService, iEvalTargetService, serviceEvaluatorService, benefitSvc, exptAggrResultService, iExptTemplateRepo, iExptTemplateManager, iNotifyRPCAdapter, iUserProvider)
	schedulerModeFactory := service.NewSchedulerModeFactory(iExptManager, iExptItemResultRepo, iExptStatsRepo, iExptTurnResultRepo, idgen2, evaluationSetItemService, iExperimentRepo, idempotentService, componentIConfiger, exptEventPublisher, evaluatorRecordService, exptResultService, iExptTemplateManager, iExptRunLogRepo)
	exptSchedulerEvent := service.NewExptSchedulerSvc(iExptManager, iExperimentRepo, iExptItemResultRepo, iExptTurnResultRepo, iExptStatsRepo, iExptRunLogRepo, idempotentService, componentIConfiger, quotaRepo, iLocker, exptEventPublisher, auditClient, exptMetric, exptResultService, idgen2, evaluationSetItemService, schedulerModeFactory)
	iEvalAsyncDAO := dao.NewEvalAsyncDAO(cmdable)
	iEvalAsyncRepo := experiment.NewEvalAsyncRepo(iEvalAsyncDAO)
	exptItemEvalEvent := service.NewExptRecordEvalService(iExptManager, componentIConfiger, exptEventPublisher, iExptItemResultRepo, iExptTurnResultRepo, iExptStatsRepo, iExperimentRepo, quotaRepo, iLocker, idempotentService, auditClient, exptMetric, exptResultService, iEvalTargetService, evaluationSetItemService, evaluatorRecordService, serviceEvaluatorService, idgen2, benefitSvc, iEvalAsyncRepo)
	iAuthProvider := foundation.NewAuthRPCProvider(authClient)
	iExptAnnotateService := service.NewExptAnnotateService(db2, iExptAnnotateRepo, iExptTurnResultRepo, exptEventPublisher, evaluationSetItemService, iExperimentRepo, exptResultService, iExptTurnResultFilterRepo, iExptAggrResultRepo)
	exptResultExportRecordDAO := mysql.NewExptResultExportRecordDAO(db2)
	iExptResultExportRecordRepo := experiment.NewExptResultExportRecordRepo(exptResultExportRecordDAO, idgen2)
	iurlProcessor := service.NewDefaultURLProcessor()
	iExptResultExportService := service.NewExptResultExportService(db2, iExptResultExportRecordRepo, iExperimentRepo, iExptTurnResultRepo, exptEventPublisher, exptResultService, objectStorage, componentIConfiger, benefitSvc, iurlProcessor, evaluationSetItemService)
	iExptInsightAnalysisRecordDAO := mysql.NewExptInsightAnalysisRecordDAO(db2)
	iExptInsightAnalysisFeedbackCommentDAO := mysql.NewExptInsightAnalysisFeedbackCommentDAO(db2)
	iExptInsightAnalysisFeedbackVoteDAO := mysql.NewExptInsightAnalysisFeedbackVoteDAO(db2)
	iExptInsightAnalysisRecordRepo := experiment.NewExptInsightAnalysisRecordRepo(iExptInsightAnalysisRecordDAO, iExptInsightAnalysisFeedbackCommentDAO, iExptInsightAnalysisFeedbackVoteDAO, idgen2, iLatestWriteTracker)
	iAgentAdapter := agent.NewAgentAdapter()
	iExptInsightAnalysisService := service.NewInsightAnalysisService(iExptInsightAnalysisRecordRepo, exptEventPublisher, objectStorage, iAgentAdapter, iExptResultExportService, iNotifyRPCAdapter, iUserProvider, iExperimentRepo, iEvalTargetRepo)
	iFileProvider := foundation.NewFileRPCProvider(fileClient)
	iExperimentApplication := NewExperimentApplication(exptAggrResultService, exptResultService, iExptManager, exptSchedulerEvent, exptItemEvalEvent, idgen2, componentIConfiger, iAuthProvider, userInfoService, iEvalTargetService, evaluationSetItemService, iExptAnnotateService, iTagRPCAdapter, iExptResultExportService, iExptInsightAnalysisService, serviceEvaluatorService, iExptTemplateManager, iFileProvider)
	return iExperimentApplication, nil
}

func InitEvaluatorApplication(ctx context.Context, idgen2 idgen.IIDGenerator, authClient authservice.Client, db2 db.Provider, configFactory conf.IConfigLoaderFactory, rmqFactory mq.IFactory, llmClient llmruntimeservice.Client, meter metrics.Meter, userClient userservice.Client, auditClient audit.IAuditService, cmdable redis.Cmdable, benefitSvc benefit.IBenefitService, limiterFactory limiter.IRateLimiterFactory, fileClient fileservice.Client, plainLimiterFactory limiter.IPlainRateLimiterFactory, ckDb ck.Provider, tagClient tagservice.Client, promptClient promptmanageservice.Client, pec promptexecuteservice.Client, dataClient datasetservice.Client, tracerFactory func() observabilitytraceservice.Client) (evaluation.EvaluatorService, error) {
	iConfiger := conf2.NewEvaluatorConfiger(configFactory)
	iAuthProvider := foundation.NewAuthRPCProvider(authClient)
	rateLimiter := evaluator.NewRateLimiterImpl(ctx, limiterFactory, iConfiger)
	evaluatorDAO := mysql2.NewEvaluatorDAO(db2)
	evaluatorVersionDAO := mysql2.NewEvaluatorVersionDAO(db2)
	evaluatorTagDAO := mysql2.NewEvaluatorTagDAO(db2)
	iLatestWriteTracker := platestwrite.NewLatestWriteTracker(cmdable)
	evaluatorTemplateDAO := mysql2.NewEvaluatorTemplateDAO(db2)
	iEvaluatorRepo := evaluator.NewEvaluatorRepo(idgen2, db2, evaluatorDAO, evaluatorVersionDAO, evaluatorTagDAO, iLatestWriteTracker, evaluatorTemplateDAO)
	evaluatorRecordDAO := mysql2.NewEvaluatorRecordDAO(db2)
	iEvaluatorRecordRepo := evaluator.NewEvaluatorRecordRepo(idgen2, db2, evaluatorRecordDAO)
	iIdemDAO := redis2.NewIdemDAO(cmdable)
	idempotentService := idem.NewIdempotentService(iIdemDAO)
	illmProvider := llm.NewLLMRPCProvider(llmClient)
	evaluatorExecMetrics := evaluator2.NewEvaluatorMetrics(meter)
	logger := runtime.NewLogger()
	sandboxConfig := runtime.NewSandboxConfig()
	iRuntimeFactory := runtime.NewRuntimeFactory(logger, sandboxConfig)
	iRuntimeManager := runtime.NewRuntimeManagerFromFactory(iRuntimeFactory, logger)
	codeBuilderFactory := service.NewCodeBuilderFactory()
	v := service.NewEvaluatorSourceServices(illmProvider, evaluatorExecMetrics, iConfiger, iRuntimeManager, codeBuilderFactory)
	iPlainRateLimiter := evaluator.NewPlainRateLimiterImpl(plainLimiterFactory)
	evaluatorService := service.NewEvaluatorServiceImpl(idgen2, rateLimiter, rmqFactory, iEvaluatorRepo, iEvaluatorRecordRepo, idempotentService, iConfiger, v, iPlainRateLimiter)
	exptEventPublisher, err := producer.NewExptEventPublisher(ctx, configFactory, rmqFactory)
	if err != nil {
		return nil, err
	}
	evaluatorEventPublisher, err := producer.NewEvaluatorEventPublisher(ctx, configFactory, rmqFactory)
	if err != nil {
		return nil, err
	}
	iUserProvider := foundation.NewUserRPCProvider(userClient)
	userInfoService := userinfo.NewUserInfoServiceImpl(iUserProvider)
	iExptDAO := mysql.NewExptDAO(db2)
	iExptEvaluatorRefDAO := mysql.NewExptEvaluatorRefDAO(db2)
	iExperimentRepo := experiment.NewExptRepo(iExptDAO, iExptEvaluatorRefDAO, idgen2)
	exptTurnResultDAO := mysql.NewExptTurnResultDAO(db2)
	iExptTurnEvaluatorResultRefDAO := mysql.NewExptTurnEvaluatorResultRefDAO(db2)
	iExptTurnResultRepo := experiment.NewExptTurnResultRepo(idgen2, exptTurnResultDAO, iExptTurnEvaluatorResultRefDAO)
	evaluatorRecordService := service.NewEvaluatorRecordServiceImpl(idgen2, iEvaluatorRecordRepo, exptEventPublisher, evaluatorEventPublisher, userInfoService, iExperimentRepo, iExptTurnResultRepo)
	evaluatorTemplateRepo := evaluator.NewEvaluatorTemplateRepo(evaluatorTagDAO, evaluatorTemplateDAO, idgen2)
	evaluatorTemplateService := service.NewEvaluatorTemplateService(evaluatorTemplateRepo)
	iFileProvider := foundation.NewFileRPCProvider(fileClient)
	iExptItemResultDAO := mysql.NewExptItemResultDAO(db2)
	iExptItemResultRepo := experiment.NewExptItemResultRepo(iExptItemResultDAO)
	iExptTurnAnnotateRecordRefDAO := mysql.NewExptTurnAnnotateRecordRefDAO(db2)
	iExptTurnResultTagRefDAO := mysql.NewExptTurnResultTagRefDAO(db2)
	iAnnotateRecordDAO := mysql.NewAnnotateRecordDAO(db2)
	iExptAnnotateRepo := experiment.NewExptAnnotateRepo(iExptTurnAnnotateRecordRefDAO, iExptTurnResultTagRefDAO, iAnnotateRecordDAO, idgen2)
	iExptStatsDAO := mysql.NewExptStatsDAO(db2)
	iExptStatsRepo := experiment.NewExptStatsRepo(iExptStatsDAO)
	exptMetric := metrics2.NewExperimentMetric(meter)
	componentIConfiger, err := conf2.NewConfiger(configFactory)
	if err != nil {
		return nil, err
	}
	iExptTurnResultFilterDAO := ck2.NewExptTurnResultFilterDAO(ckDb, componentIConfiger)
	iExptTurnResultFilterKeyMappingDAO := mysql.NewExptTurnResultFilterKeyMappingDAO(db2)
	iExptTurnResultFilterRepo := experiment.NewExptTurnResultFilterRepo(iExptTurnResultFilterDAO, iExptTurnResultFilterKeyMappingDAO)
	evalTargetDAO := mysql3.NewEvalTargetDAO(db2)
	evalTargetVersionDAO := mysql3.NewEvalTargetVersionDAO(db2)
	evalTargetRecordDAO := mysql3.NewEvalTargetRecordDAO(db2)
	iEvalTargetRepo := target.NewEvalTargetRepo(idgen2, db2, evalTargetDAO, evalTargetVersionDAO, evalTargetRecordDAO, iLatestWriteTracker)
	evalTargetMetrics := metrics3.NewEvalTargetMetrics(meter)
	iPromptRPCAdapter := prompt.NewPromptRPCAdapter(promptClient, pec)
	v2 := service.NewSourceTargetOperators(iPromptRPCAdapter)
	iTrajectoryAdapter := trajectory.NewAdapter(tracerFactory)
	iEvalTargetService := service.NewEvalTargetServiceImpl(iEvalTargetRepo, idgen2, evalTargetMetrics, v2, iTrajectoryAdapter, componentIConfiger)
	iDatasetRPCAdapter := data.NewDatasetRPCAdapter(dataClient)
	evaluationSetVersionService := service.NewEvaluationSetVersionServiceImpl(iDatasetRPCAdapter)
	iEvaluationSetService := service.NewEvaluationSetServiceImpl(iDatasetRPCAdapter)
	evaluationSetItemService := service.NewEvaluationSetItemServiceImpl(iDatasetRPCAdapter)
	iTagRPCAdapter := tag.NewTagRPCProvider(tagClient)
	iEvaluationAnalysisService := service.NewEvaluationAnalysisService()
	exptResultService := service.NewExptResultService(iExptItemResultRepo, iExptTurnResultRepo, iExptAnnotateRepo, iExptStatsRepo, iExperimentRepo, exptMetric, iLatestWriteTracker, idgen2, iExptTurnResultFilterRepo, evaluatorService, iEvalTargetService, evaluationSetVersionService, iEvaluationSetService, evaluatorRecordService, evaluationSetItemService, exptEventPublisher, iTagRPCAdapter, iEvaluationAnalysisService)
	iEvalAsyncDAO := dao.NewEvalAsyncDAO(cmdable)
	iEvalAsyncRepo := experiment.NewEvalAsyncRepo(iEvalAsyncDAO)
	evaluationEvaluatorService := NewEvaluatorHandlerImpl(idgen2, iConfiger, iAuthProvider, evaluatorService, evaluatorRecordService, evaluatorTemplateService, evaluatorExecMetrics, userInfoService, auditClient, benefitSvc, iFileProvider, v, exptResultService, iEvalAsyncRepo)
	return evaluationEvaluatorService, nil
}

func InitEvaluationSetApplication(client datasetservice.Client, authClient authservice.Client, meter metrics.Meter, userClient userservice.Client) evaluation.EvaluationSetService {
	iAuthProvider := foundation.NewAuthRPCProvider(authClient)
	iDatasetRPCAdapter := data.NewDatasetRPCAdapter(client)
	iEvaluationSetService := service.NewEvaluationSetServiceImpl(iDatasetRPCAdapter)
	evaluationSetSchemaService := service.NewEvaluationSetSchemaServiceImpl(iDatasetRPCAdapter)
	evaluationSetVersionService := service.NewEvaluationSetVersionServiceImpl(iDatasetRPCAdapter)
	evaluationSetItemService := service.NewEvaluationSetItemServiceImpl(iDatasetRPCAdapter)
	evaluationSetMetrics := metrics4.NewEvaluationSetMetrics(meter)
	iUserProvider := foundation.NewUserRPCProvider(userClient)
	userInfoService := userinfo.NewUserInfoServiceImpl(iUserProvider)
	evaluationSetService := NewEvaluationSetApplicationImpl(iAuthProvider, iEvaluationSetService, evaluationSetSchemaService, evaluationSetVersionService, evaluationSetItemService, evaluationSetMetrics, userInfoService)
	return evaluationSetService
}

func InitEvalTargetApplication(ctx context.Context, idgen2 idgen.IIDGenerator, db2 db.Provider, client promptmanageservice.Client, executeClient promptexecuteservice.Client, authClient authservice.Client, cmdable redis.Cmdable, meter metrics.Meter, trajectoryAdapter rpc.ITrajectoryAdapter, configFactory conf.IConfigLoaderFactory) (evaluation.EvalTargetService, error) {
	iAuthProvider := foundation.NewAuthRPCProvider(authClient)
	evalTargetDAO := mysql3.NewEvalTargetDAO(db2)
	evalTargetVersionDAO := mysql3.NewEvalTargetVersionDAO(db2)
	evalTargetRecordDAO := mysql3.NewEvalTargetRecordDAO(db2)
	iLatestWriteTracker := platestwrite.NewLatestWriteTracker(cmdable)
	iEvalTargetRepo := target.NewEvalTargetRepo(idgen2, db2, evalTargetDAO, evalTargetVersionDAO, evalTargetRecordDAO, iLatestWriteTracker)
	evalTargetMetrics := metrics3.NewEvalTargetMetrics(meter)
	iPromptRPCAdapter := prompt.NewPromptRPCAdapter(client, executeClient)
	v := service.NewSourceTargetOperators(iPromptRPCAdapter)
	iConfiger, err := conf2.NewConfiger(configFactory)
	if err != nil {
		return nil, err
	}
	iEvalTargetService := service.NewEvalTargetServiceImpl(iEvalTargetRepo, idgen2, evalTargetMetrics, v, trajectoryAdapter, iConfiger)
	iEvalAsyncDAO := dao.NewEvalAsyncDAO(cmdable)
	iEvalAsyncRepo := experiment.NewEvalAsyncRepo(iEvalAsyncDAO)
	evalTargetService := NewEvalTargetHandlerImpl(iAuthProvider, iEvalTargetService, v, iEvalAsyncRepo)
	return evalTargetService, nil
}

func InitEvalOpenAPIApplication(ctx context.Context, configFactory conf.IConfigLoaderFactory, rmqFactory mq.IFactory, cmdable redis.Cmdable, idgen2 idgen.IIDGenerator, db2 db.Provider, client promptmanageservice.Client, executeClient promptexecuteservice.Client, authClient authservice.Client, meter metrics.Meter, dataClient datasetservice.Client, userClient userservice.Client, llmClient llmruntimeservice.Client, tagClient tagservice.Client, limiterFactory limiter.IRateLimiterFactory, objectStorage fileserver.ObjectStorage, auditClient audit.IAuditService, benefitService benefit.IBenefitService, ckProvider ck.Provider, plainLimiterFactory limiter.IPlainRateLimiterFactory, trajectoryAdapter rpc.ITrajectoryAdapter, fileClient fileservice.Client) (evaluation.EvalOpenAPIService, error) {
	iEvalAsyncDAO := dao.NewEvalAsyncDAO(cmdable)
	iEvalAsyncRepo := experiment.NewEvalAsyncRepo(iEvalAsyncDAO)
	exptEventPublisher, err := producer.NewExptEventPublisher(ctx, configFactory, rmqFactory)
	if err != nil {
		return nil, err
	}
	evalTargetDAO := mysql3.NewEvalTargetDAO(db2)
	evalTargetVersionDAO := mysql3.NewEvalTargetVersionDAO(db2)
	evalTargetRecordDAO := mysql3.NewEvalTargetRecordDAO(db2)
	iLatestWriteTracker := platestwrite.NewLatestWriteTracker(cmdable)
	iEvalTargetRepo := target.NewEvalTargetRepo(idgen2, db2, evalTargetDAO, evalTargetVersionDAO, evalTargetRecordDAO, iLatestWriteTracker)
	evalTargetMetrics := metrics3.NewEvalTargetMetrics(meter)
	iPromptRPCAdapter := prompt.NewPromptRPCAdapter(client, executeClient)
	v := service.NewSourceTargetOperators(iPromptRPCAdapter)
	iConfiger, err := conf2.NewConfiger(configFactory)
	if err != nil {
		return nil, err
	}
	iEvalTargetService := service.NewEvalTargetServiceImpl(iEvalTargetRepo, idgen2, evalTargetMetrics, v, trajectoryAdapter, iConfiger)
	iAuthProvider := foundation.NewAuthRPCProvider(authClient)
	iDatasetRPCAdapter := data.NewDatasetRPCAdapter(dataClient)
	iEvaluationSetService := service.NewEvaluationSetServiceImpl(iDatasetRPCAdapter)
	evaluationSetVersionService := service.NewEvaluationSetVersionServiceImpl(iDatasetRPCAdapter)
	evaluationSetItemService := service.NewEvaluationSetItemServiceImpl(iDatasetRPCAdapter)
	evaluationSetSchemaService := service.NewEvaluationSetSchemaServiceImpl(iDatasetRPCAdapter)
	openAPIEvaluationMetrics := openapi.NewEvaluationOApiMetrics(meter)
	iUserProvider := foundation.NewUserRPCProvider(userClient)
	userInfoService := userinfo.NewUserInfoServiceImpl(iUserProvider)
	exptTurnResultDAO := mysql.NewExptTurnResultDAO(db2)
	iExptTurnEvaluatorResultRefDAO := mysql.NewExptTurnEvaluatorResultRefDAO(db2)
	iExptTurnResultRepo := experiment.NewExptTurnResultRepo(idgen2, exptTurnResultDAO, iExptTurnEvaluatorResultRefDAO)
	exptAggrResultDAO := mysql.NewExptAggrResultDAO(db2)
	iExptAggrResultRepo := experiment.NewExptAggrResultRepo(exptAggrResultDAO, idgen2)
	iExptDAO := mysql.NewExptDAO(db2)
	iExptEvaluatorRefDAO := mysql.NewExptEvaluatorRefDAO(db2)
	iExperimentRepo := experiment.NewExptRepo(iExptDAO, iExptEvaluatorRefDAO, idgen2)
	exptMetric := metrics2.NewExperimentMetric(meter)
	confIConfiger := conf2.NewEvaluatorConfiger(configFactory)
	rateLimiter := evaluator.NewRateLimiterImpl(ctx, limiterFactory, confIConfiger)
	evaluatorDAO := mysql2.NewEvaluatorDAO(db2)
	evaluatorVersionDAO := mysql2.NewEvaluatorVersionDAO(db2)
	evaluatorTagDAO := mysql2.NewEvaluatorTagDAO(db2)
	evaluatorTemplateDAO := mysql2.NewEvaluatorTemplateDAO(db2)
	iEvaluatorRepo := evaluator.NewEvaluatorRepo(idgen2, db2, evaluatorDAO, evaluatorVersionDAO, evaluatorTagDAO, iLatestWriteTracker, evaluatorTemplateDAO)
	evaluatorRecordDAO := mysql2.NewEvaluatorRecordDAO(db2)
	iEvaluatorRecordRepo := evaluator.NewEvaluatorRecordRepo(idgen2, db2, evaluatorRecordDAO)
	iIdemDAO := redis2.NewIdemDAO(cmdable)
	idempotentService := idem.NewIdempotentService(iIdemDAO)
	illmProvider := llm.NewLLMRPCProvider(llmClient)
	evaluatorExecMetrics := evaluator2.NewEvaluatorMetrics(meter)
	logger := runtime.NewLogger()
	sandboxConfig := runtime.NewSandboxConfig()
	iRuntimeFactory := runtime.NewRuntimeFactory(logger, sandboxConfig)
	iRuntimeManager := runtime.NewRuntimeManagerFromFactory(iRuntimeFactory, logger)
	codeBuilderFactory := service.NewCodeBuilderFactory()
	v2 := service.NewEvaluatorSourceServices(illmProvider, evaluatorExecMetrics, confIConfiger, iRuntimeManager, codeBuilderFactory)
	iPlainRateLimiter := evaluator.NewPlainRateLimiterImpl(plainLimiterFactory)
	evaluatorService := service.NewEvaluatorServiceImpl(idgen2, rateLimiter, rmqFactory, iEvaluatorRepo, iEvaluatorRecordRepo, idempotentService, confIConfiger, v2, iPlainRateLimiter)
	evaluatorEventPublisher, err := producer.NewEvaluatorEventPublisher(ctx, configFactory, rmqFactory)
	if err != nil {
		return nil, err
	}
	evaluatorRecordService := service.NewEvaluatorRecordServiceImpl(idgen2, iEvaluatorRecordRepo, exptEventPublisher, evaluatorEventPublisher, userInfoService, iExperimentRepo, iExptTurnResultRepo)
	iTagRPCAdapter := tag.NewTagRPCProvider(tagClient)
	iExptTurnAnnotateRecordRefDAO := mysql.NewExptTurnAnnotateRecordRefDAO(db2)
	iExptTurnResultTagRefDAO := mysql.NewExptTurnResultTagRefDAO(db2)
	iAnnotateRecordDAO := mysql.NewAnnotateRecordDAO(db2)
	iExptAnnotateRepo := experiment.NewExptAnnotateRepo(iExptTurnAnnotateRecordRefDAO, iExptTurnResultTagRefDAO, iAnnotateRecordDAO, idgen2)
	iLocker := NewLock(cmdable)
	exptAggrResultService := service.NewExptAggrResultService(iExptTurnResultRepo, iExptAggrResultRepo, iExperimentRepo, exptMetric, evaluatorService, evaluatorRecordService, iTagRPCAdapter, iExptAnnotateRepo, iEvalTargetService, exptEventPublisher, iLocker)
	iExptItemResultDAO := mysql.NewExptItemResultDAO(db2)
	iExptItemResultRepo := experiment.NewExptItemResultRepo(iExptItemResultDAO)
	iExptStatsDAO := mysql.NewExptStatsDAO(db2)
	iExptStatsRepo := experiment.NewExptStatsRepo(iExptStatsDAO)
	iExptTurnResultFilterDAO := ck2.NewExptTurnResultFilterDAO(ckProvider, iConfiger)
	iExptTurnResultFilterKeyMappingDAO := mysql.NewExptTurnResultFilterKeyMappingDAO(db2)
	iExptTurnResultFilterRepo := experiment.NewExptTurnResultFilterRepo(iExptTurnResultFilterDAO, iExptTurnResultFilterKeyMappingDAO)
	iEvaluationAnalysisService := service.NewEvaluationAnalysisService()
	exptResultService := service.NewExptResultService(iExptItemResultRepo, iExptTurnResultRepo, iExptAnnotateRepo, iExptStatsRepo, iExperimentRepo, exptMetric, iLatestWriteTracker, idgen2, iExptTurnResultFilterRepo, evaluatorService, iEvalTargetService, evaluationSetVersionService, iEvaluationSetService, evaluatorRecordService, evaluationSetItemService, exptEventPublisher, iTagRPCAdapter, iEvaluationAnalysisService)
	iExptRunLogDAO := mysql.NewExptRunLogDAO(db2)
	iExptRunLogRepo := experiment.NewExptRunLogRepo(iExptRunLogDAO)
	iQuotaDAO := dao.NewQuotaDAO(cmdable)
	quotaRepo := experiment.NewQuotaService(iQuotaDAO, iLocker)
	iExptTemplateDAO := mysql.NewExptTemplateDAO(db2)
	iExptTemplateEvaluatorRefDAO := mysql.NewExptTemplateEvaluatorRefDAO(db2)
	iExptTemplateRepo := experiment.NewExptTemplateRepo(iExptTemplateDAO, iExptTemplateEvaluatorRefDAO, idgen2)
	iExptTemplateManager := service.NewExptTemplateManager(iExptTemplateRepo, idgen2, evaluatorService, iEvalTargetService, iEvaluationSetService, evaluationSetVersionService, iLatestWriteTracker)
	iNotifyRPCAdapter := notify.NewNotifyRPCAdapter()
	iExptManager := service.NewExptManager(exptResultService, iExperimentRepo, iExptRunLogRepo, iExptStatsRepo, iExptItemResultRepo, iExptTurnResultRepo, iConfiger, quotaRepo, iLocker, idempotentService, exptEventPublisher, auditClient, idgen2, exptMetric, iLatestWriteTracker, evaluationSetVersionService, iEvaluationSetService, iEvalTargetService, evaluatorService, benefitService, exptAggrResultService, iExptTemplateRepo, iExptTemplateManager, iNotifyRPCAdapter, iUserProvider)
	schedulerModeFactory := service.NewSchedulerModeFactory(iExptManager, iExptItemResultRepo, iExptStatsRepo, iExptTurnResultRepo, idgen2, evaluationSetItemService, iExperimentRepo, idempotentService, iConfiger, exptEventPublisher, evaluatorRecordService, exptResultService, iExptTemplateManager, iExptRunLogRepo)
	exptSchedulerEvent := service.NewExptSchedulerSvc(iExptManager, iExperimentRepo, iExptItemResultRepo, iExptTurnResultRepo, iExptStatsRepo, iExptRunLogRepo, idempotentService, iConfiger, quotaRepo, iLocker, exptEventPublisher, auditClient, exptMetric, exptResultService, idgen2, evaluationSetItemService, schedulerModeFactory)
	exptItemEvalEvent := service.NewExptRecordEvalService(iExptManager, iConfiger, exptEventPublisher, iExptItemResultRepo, iExptTurnResultRepo, iExptStatsRepo, iExperimentRepo, quotaRepo, iLocker, idempotentService, auditClient, exptMetric, exptResultService, iEvalTargetService, evaluationSetItemService, evaluatorRecordService, evaluatorService, idgen2, benefitService, iEvalAsyncRepo)
	iExptAnnotateService := service.NewExptAnnotateService(db2, iExptAnnotateRepo, iExptTurnResultRepo, exptEventPublisher, evaluationSetItemService, iExperimentRepo, exptResultService, iExptTurnResultFilterRepo, iExptAggrResultRepo)
	exptResultExportRecordDAO := mysql.NewExptResultExportRecordDAO(db2)
	iExptResultExportRecordRepo := experiment.NewExptResultExportRecordRepo(exptResultExportRecordDAO, idgen2)
	iurlProcessor := service.NewDefaultURLProcessor()
	iExptResultExportService := service.NewExptResultExportService(db2, iExptResultExportRecordRepo, iExperimentRepo, iExptTurnResultRepo, exptEventPublisher, exptResultService, objectStorage, iConfiger, benefitService, iurlProcessor, evaluationSetItemService)
	iExptInsightAnalysisRecordDAO := mysql.NewExptInsightAnalysisRecordDAO(db2)
	iExptInsightAnalysisFeedbackCommentDAO := mysql.NewExptInsightAnalysisFeedbackCommentDAO(db2)
	iExptInsightAnalysisFeedbackVoteDAO := mysql.NewExptInsightAnalysisFeedbackVoteDAO(db2)
	iExptInsightAnalysisRecordRepo := experiment.NewExptInsightAnalysisRecordRepo(iExptInsightAnalysisRecordDAO, iExptInsightAnalysisFeedbackCommentDAO, iExptInsightAnalysisFeedbackVoteDAO, idgen2, iLatestWriteTracker)
	iAgentAdapter := agent.NewAgentAdapter()
	iExptInsightAnalysisService := service.NewInsightAnalysisService(iExptInsightAnalysisRecordRepo, exptEventPublisher, objectStorage, iAgentAdapter, iExptResultExportService, iNotifyRPCAdapter, iUserProvider, iExperimentRepo, iEvalTargetRepo)
	iFileProvider := foundation.NewFileRPCProvider(fileClient)
	iExperimentApplication := NewExperimentApplication(exptAggrResultService, exptResultService, iExptManager, exptSchedulerEvent, exptItemEvalEvent, idgen2, iConfiger, iAuthProvider, userInfoService, iEvalTargetService, evaluationSetItemService, iExptAnnotateService, iTagRPCAdapter, iExptResultExportService, iExptInsightAnalysisService, evaluatorService, iExptTemplateManager, iFileProvider)
	evalOpenAPIService := NewEvalOpenAPIApplication(iEvalAsyncRepo, exptEventPublisher, iEvalTargetService, iAuthProvider, iEvaluationSetService, evaluationSetVersionService, evaluationSetItemService, evaluationSetSchemaService, openAPIEvaluationMetrics, userInfoService, iExperimentApplication, iExptManager, exptResultService, exptAggrResultService, evaluatorService, evaluatorRecordService, iExptTemplateManager, iConfiger)
	return evalOpenAPIService, nil
}

// wire.go:

var (
	flagSet = wire.NewSet(platestwrite.NewLatestWriteTracker)

	experimentSet = wire.NewSet(
		NewExperimentApplication, service.ExperimentDomainServiceSet, service.EvaluationSetDomainServiceSet, service.TargetDomainServiceSet, service.EvaluatorDomainServiceSet, metrics2.ExperimentMetricsSet, metrics3.EvalTargetMetricsSet, foundation.FoundationRPCSet, tag.TagRPCSet, agent.AgentRPCSet, notify.NotifyRPCSet, userinfo.NewUserInfoServiceImpl, NewLock,
		flagSet, service.NewDefaultURLProcessor,
	)

	evaluatorSet = wire.NewSet(
		NewEvaluatorHandlerImpl, service.EvaluatorDomainServiceSet, service.EvaluationSetDomainServiceSet, service.TargetDomainServiceSet, service.NewExptResultService, service.NewEvaluationAnalysisService, foundation.FoundationRPCSet, tag.TagRPCSet, trajectory.TrajectoryRPCSet, userinfo.NewUserInfoServiceImpl, experiment.ExperimentRepoSet, metrics2.ExperimentMetricsSet, metrics3.EvalTargetMetricsSet, conf2.NewConfiger, flagSet,
	)

	evaluationSetSet = wire.NewSet(
		NewEvaluationSetApplicationImpl, service.EvaluationSetDomainServiceSet, metrics4.EvaluationSetMetricsSet, foundation.FoundationRPCSet, userinfo.NewUserInfoServiceImpl,
	)

	evalTargetSet = wire.NewSet(
		NewEvalTargetHandlerImpl, service.TargetDomainServiceSet, metrics3.EvalTargetMetricsSet, foundation.FoundationRPCSet, experiment.ExperimentRepoSet, flagSet,
	)

	evalOpenAPISet = wire.NewSet(
		NewEvalOpenAPIApplication,
		experimentSet, conf2.NewConfiger, openapi.OpenAPIMetricsSet,
	)
)

func NewLock(cmdable redis.Cmdable) lock.ILocker {
	return lock.NewRedisLockerWithHolder(cmdable, "evaluation")
}
