// Code generated by cozeloop. DO NOT EDIT.
package loopenapi // import github.com/coze-dev/coze-loop/backend/loopenapi

import (
	"context"

	"github.com/cloudwego/kitex/client/callopt"
	"github.com/cloudwego/kitex/pkg/endpoint"
	"github.com/cloudwego/kitex/pkg/rpcinfo"
	"github.com/coze-dev/coze-loop/backend/kitex_gen/coze/loop/evaluation/openapi"
)

type LocalEvaluationOpenAPIService struct {
	impl openapi.EvaluationOpenAPIService // the service implementation
	mds  endpoint.Middleware
}

func NewLocalEvaluationOpenAPIService(impl openapi.EvaluationOpenAPIService, mds ...endpoint.Middleware) *LocalEvaluationOpenAPIService {
	return &LocalEvaluationOpenAPIService{
		impl: impl,
		mds:  endpoint.Chain(mds...),
	}
}

// CreateEvaluationSetOApi
// 评测集接口 (9个)
// 1.1 创建评测集
func (l *LocalEvaluationOpenAPIService) CreateEvaluationSetOApi(ctx context.Context, req *openapi.CreateEvaluationSetOApiRequest, callOptions ...callopt.Option) (*openapi.CreateEvaluationSetOApiResponse, error) {
	chain := l.mds(func(ctx context.Context, in, out interface{}) error {
		arg := in.(*openapi.EvaluationOpenAPIServiceCreateEvaluationSetOApiArgs)
		result := out.(*openapi.EvaluationOpenAPIServiceCreateEvaluationSetOApiResult)
		resp, err := l.impl.CreateEvaluationSetOApi(ctx, arg.Req)
		if err != nil {
			return err
		}
		result.SetSuccess(resp)
		return nil
	})

	arg := &openapi.EvaluationOpenAPIServiceCreateEvaluationSetOApiArgs{Req: req}
	result := &openapi.EvaluationOpenAPIServiceCreateEvaluationSetOApiResult{}
	ctx = l.injectRPCInfo(ctx, "CreateEvaluationSetOApi")
	if err := chain(ctx, arg, result); err != nil {
		return nil, err
	}
	return result.GetSuccess(), nil
}

// GetEvaluationSetOApi
// 1.2 获取评测集详情
func (l *LocalEvaluationOpenAPIService) GetEvaluationSetOApi(ctx context.Context, req *openapi.GetEvaluationSetOApiRequest, callOptions ...callopt.Option) (*openapi.GetEvaluationSetOApiResponse, error) {
	chain := l.mds(func(ctx context.Context, in, out interface{}) error {
		arg := in.(*openapi.EvaluationOpenAPIServiceGetEvaluationSetOApiArgs)
		result := out.(*openapi.EvaluationOpenAPIServiceGetEvaluationSetOApiResult)
		resp, err := l.impl.GetEvaluationSetOApi(ctx, arg.Req)
		if err != nil {
			return err
		}
		result.SetSuccess(resp)
		return nil
	})

	arg := &openapi.EvaluationOpenAPIServiceGetEvaluationSetOApiArgs{Req: req}
	result := &openapi.EvaluationOpenAPIServiceGetEvaluationSetOApiResult{}
	ctx = l.injectRPCInfo(ctx, "GetEvaluationSetOApi")
	if err := chain(ctx, arg, result); err != nil {
		return nil, err
	}
	return result.GetSuccess(), nil
}

// ListEvaluationSetsOApi
// 1.3 查询评测集列表
func (l *LocalEvaluationOpenAPIService) ListEvaluationSetsOApi(ctx context.Context, req *openapi.ListEvaluationSetsOApiRequest, callOptions ...callopt.Option) (*openapi.ListEvaluationSetsOApiResponse, error) {
	chain := l.mds(func(ctx context.Context, in, out interface{}) error {
		arg := in.(*openapi.EvaluationOpenAPIServiceListEvaluationSetsOApiArgs)
		result := out.(*openapi.EvaluationOpenAPIServiceListEvaluationSetsOApiResult)
		resp, err := l.impl.ListEvaluationSetsOApi(ctx, arg.Req)
		if err != nil {
			return err
		}
		result.SetSuccess(resp)
		return nil
	})

	arg := &openapi.EvaluationOpenAPIServiceListEvaluationSetsOApiArgs{Req: req}
	result := &openapi.EvaluationOpenAPIServiceListEvaluationSetsOApiResult{}
	ctx = l.injectRPCInfo(ctx, "ListEvaluationSetsOApi")
	if err := chain(ctx, arg, result); err != nil {
		return nil, err
	}
	return result.GetSuccess(), nil
}

// CreateEvaluationSetVersionOApi
// 1.4 创建评测集版本
func (l *LocalEvaluationOpenAPIService) CreateEvaluationSetVersionOApi(ctx context.Context, req *openapi.CreateEvaluationSetVersionOApiRequest, callOptions ...callopt.Option) (*openapi.CreateEvaluationSetVersionOApiResponse, error) {
	chain := l.mds(func(ctx context.Context, in, out interface{}) error {
		arg := in.(*openapi.EvaluationOpenAPIServiceCreateEvaluationSetVersionOApiArgs)
		result := out.(*openapi.EvaluationOpenAPIServiceCreateEvaluationSetVersionOApiResult)
		resp, err := l.impl.CreateEvaluationSetVersionOApi(ctx, arg.Req)
		if err != nil {
			return err
		}
		result.SetSuccess(resp)
		return nil
	})

	arg := &openapi.EvaluationOpenAPIServiceCreateEvaluationSetVersionOApiArgs{Req: req}
	result := &openapi.EvaluationOpenAPIServiceCreateEvaluationSetVersionOApiResult{}
	ctx = l.injectRPCInfo(ctx, "CreateEvaluationSetVersionOApi")
	if err := chain(ctx, arg, result); err != nil {
		return nil, err
	}
	return result.GetSuccess(), nil
}

// BatchCreateEvaluationSetItemsOApi
// 1.5 批量添加评测集数据
func (l *LocalEvaluationOpenAPIService) BatchCreateEvaluationSetItemsOApi(ctx context.Context, req *openapi.BatchCreateEvaluationSetItemsOApiRequest, callOptions ...callopt.Option) (*openapi.BatchCreateEvaluationSetItemsOApiResponse, error) {
	chain := l.mds(func(ctx context.Context, in, out interface{}) error {
		arg := in.(*openapi.EvaluationOpenAPIServiceBatchCreateEvaluationSetItemsOApiArgs)
		result := out.(*openapi.EvaluationOpenAPIServiceBatchCreateEvaluationSetItemsOApiResult)
		resp, err := l.impl.BatchCreateEvaluationSetItemsOApi(ctx, arg.Req)
		if err != nil {
			return err
		}
		result.SetSuccess(resp)
		return nil
	})

	arg := &openapi.EvaluationOpenAPIServiceBatchCreateEvaluationSetItemsOApiArgs{Req: req}
	result := &openapi.EvaluationOpenAPIServiceBatchCreateEvaluationSetItemsOApiResult{}
	ctx = l.injectRPCInfo(ctx, "BatchCreateEvaluationSetItemsOApi")
	if err := chain(ctx, arg, result); err != nil {
		return nil, err
	}
	return result.GetSuccess(), nil
}

// BatchUpdateEvaluationSetItemsOApi
// 1.6 批量更新评测集数据
func (l *LocalEvaluationOpenAPIService) BatchUpdateEvaluationSetItemsOApi(ctx context.Context, req *openapi.BatchUpdateEvaluationSetItemsOApiRequest, callOptions ...callopt.Option) (*openapi.BatchUpdateEvaluationSetItemsOApiResponse, error) {
	chain := l.mds(func(ctx context.Context, in, out interface{}) error {
		arg := in.(*openapi.EvaluationOpenAPIServiceBatchUpdateEvaluationSetItemsOApiArgs)
		result := out.(*openapi.EvaluationOpenAPIServiceBatchUpdateEvaluationSetItemsOApiResult)
		resp, err := l.impl.BatchUpdateEvaluationSetItemsOApi(ctx, arg.Req)
		if err != nil {
			return err
		}
		result.SetSuccess(resp)
		return nil
	})

	arg := &openapi.EvaluationOpenAPIServiceBatchUpdateEvaluationSetItemsOApiArgs{Req: req}
	result := &openapi.EvaluationOpenAPIServiceBatchUpdateEvaluationSetItemsOApiResult{}
	ctx = l.injectRPCInfo(ctx, "BatchUpdateEvaluationSetItemsOApi")
	if err := chain(ctx, arg, result); err != nil {
		return nil, err
	}
	return result.GetSuccess(), nil
}

// BatchDeleteEvaluationSetItemsOApi
// 1.7 批量删除评测集数据
func (l *LocalEvaluationOpenAPIService) BatchDeleteEvaluationSetItemsOApi(ctx context.Context, req *openapi.BatchDeleteEvaluationSetItemsOApiRequest, callOptions ...callopt.Option) (*openapi.BatchDeleteEvaluationSetItemsOApiResponse, error) {
	chain := l.mds(func(ctx context.Context, in, out interface{}) error {
		arg := in.(*openapi.EvaluationOpenAPIServiceBatchDeleteEvaluationSetItemsOApiArgs)
		result := out.(*openapi.EvaluationOpenAPIServiceBatchDeleteEvaluationSetItemsOApiResult)
		resp, err := l.impl.BatchDeleteEvaluationSetItemsOApi(ctx, arg.Req)
		if err != nil {
			return err
		}
		result.SetSuccess(resp)
		return nil
	})

	arg := &openapi.EvaluationOpenAPIServiceBatchDeleteEvaluationSetItemsOApiArgs{Req: req}
	result := &openapi.EvaluationOpenAPIServiceBatchDeleteEvaluationSetItemsOApiResult{}
	ctx = l.injectRPCInfo(ctx, "BatchDeleteEvaluationSetItemsOApi")
	if err := chain(ctx, arg, result); err != nil {
		return nil, err
	}
	return result.GetSuccess(), nil
}

// ListEvaluationSetVersionItemsOApi
// 1.8 查询评测集特定版本数据
func (l *LocalEvaluationOpenAPIService) ListEvaluationSetVersionItemsOApi(ctx context.Context, req *openapi.ListEvaluationSetVersionItemsOApiRequest, callOptions ...callopt.Option) (*openapi.ListEvaluationSetVersionItemsOApiResponse, error) {
	chain := l.mds(func(ctx context.Context, in, out interface{}) error {
		arg := in.(*openapi.EvaluationOpenAPIServiceListEvaluationSetVersionItemsOApiArgs)
		result := out.(*openapi.EvaluationOpenAPIServiceListEvaluationSetVersionItemsOApiResult)
		resp, err := l.impl.ListEvaluationSetVersionItemsOApi(ctx, arg.Req)
		if err != nil {
			return err
		}
		result.SetSuccess(resp)
		return nil
	})

	arg := &openapi.EvaluationOpenAPIServiceListEvaluationSetVersionItemsOApiArgs{Req: req}
	result := &openapi.EvaluationOpenAPIServiceListEvaluationSetVersionItemsOApiResult{}
	ctx = l.injectRPCInfo(ctx, "ListEvaluationSetVersionItemsOApi")
	if err := chain(ctx, arg, result); err != nil {
		return nil, err
	}
	return result.GetSuccess(), nil
}

// UpdateEvaluationSetSchemaOApi
// 1.9 更新评测集字段信息
func (l *LocalEvaluationOpenAPIService) UpdateEvaluationSetSchemaOApi(ctx context.Context, req *openapi.UpdateEvaluationSetSchemaOApiRequest, callOptions ...callopt.Option) (*openapi.UpdateEvaluationSetSchemaOApiResponse, error) {
	chain := l.mds(func(ctx context.Context, in, out interface{}) error {
		arg := in.(*openapi.EvaluationOpenAPIServiceUpdateEvaluationSetSchemaOApiArgs)
		result := out.(*openapi.EvaluationOpenAPIServiceUpdateEvaluationSetSchemaOApiResult)
		resp, err := l.impl.UpdateEvaluationSetSchemaOApi(ctx, arg.Req)
		if err != nil {
			return err
		}
		result.SetSuccess(resp)
		return nil
	})

	arg := &openapi.EvaluationOpenAPIServiceUpdateEvaluationSetSchemaOApiArgs{Req: req}
	result := &openapi.EvaluationOpenAPIServiceUpdateEvaluationSetSchemaOApiResult{}
	ctx = l.injectRPCInfo(ctx, "UpdateEvaluationSetSchemaOApi")
	if err := chain(ctx, arg, result); err != nil {
		return nil, err
	}
	return result.GetSuccess(), nil
}

// CreateEvaluatorOApi
// 评估器接口 (5个)
// 2.1 创建评估器
func (l *LocalEvaluationOpenAPIService) CreateEvaluatorOApi(ctx context.Context, req *openapi.CreateEvaluatorOApiRequest, callOptions ...callopt.Option) (*openapi.CreateEvaluatorOApiResponse, error) {
	chain := l.mds(func(ctx context.Context, in, out interface{}) error {
		arg := in.(*openapi.EvaluationOpenAPIServiceCreateEvaluatorOApiArgs)
		result := out.(*openapi.EvaluationOpenAPIServiceCreateEvaluatorOApiResult)
		resp, err := l.impl.CreateEvaluatorOApi(ctx, arg.Req)
		if err != nil {
			return err
		}
		result.SetSuccess(resp)
		return nil
	})

	arg := &openapi.EvaluationOpenAPIServiceCreateEvaluatorOApiArgs{Req: req}
	result := &openapi.EvaluationOpenAPIServiceCreateEvaluatorOApiResult{}
	ctx = l.injectRPCInfo(ctx, "CreateEvaluatorOApi")
	if err := chain(ctx, arg, result); err != nil {
		return nil, err
	}
	return result.GetSuccess(), nil
}

// SubmitEvaluatorVersionOApi
// 2.2 提交评估器版本
func (l *LocalEvaluationOpenAPIService) SubmitEvaluatorVersionOApi(ctx context.Context, req *openapi.SubmitEvaluatorVersionOApiRequest, callOptions ...callopt.Option) (*openapi.SubmitEvaluatorVersionOApiResponse, error) {
	chain := l.mds(func(ctx context.Context, in, out interface{}) error {
		arg := in.(*openapi.EvaluationOpenAPIServiceSubmitEvaluatorVersionOApiArgs)
		result := out.(*openapi.EvaluationOpenAPIServiceSubmitEvaluatorVersionOApiResult)
		resp, err := l.impl.SubmitEvaluatorVersionOApi(ctx, arg.Req)
		if err != nil {
			return err
		}
		result.SetSuccess(resp)
		return nil
	})

	arg := &openapi.EvaluationOpenAPIServiceSubmitEvaluatorVersionOApiArgs{Req: req}
	result := &openapi.EvaluationOpenAPIServiceSubmitEvaluatorVersionOApiResult{}
	ctx = l.injectRPCInfo(ctx, "SubmitEvaluatorVersionOApi")
	if err := chain(ctx, arg, result); err != nil {
		return nil, err
	}
	return result.GetSuccess(), nil
}

// GetEvaluatorVersionOApi
// 2.3 获取评估器版本详情
func (l *LocalEvaluationOpenAPIService) GetEvaluatorVersionOApi(ctx context.Context, req *openapi.GetEvaluatorVersionOApiRequest, callOptions ...callopt.Option) (*openapi.GetEvaluatorVersionOApiResponse, error) {
	chain := l.mds(func(ctx context.Context, in, out interface{}) error {
		arg := in.(*openapi.EvaluationOpenAPIServiceGetEvaluatorVersionOApiArgs)
		result := out.(*openapi.EvaluationOpenAPIServiceGetEvaluatorVersionOApiResult)
		resp, err := l.impl.GetEvaluatorVersionOApi(ctx, arg.Req)
		if err != nil {
			return err
		}
		result.SetSuccess(resp)
		return nil
	})

	arg := &openapi.EvaluationOpenAPIServiceGetEvaluatorVersionOApiArgs{Req: req}
	result := &openapi.EvaluationOpenAPIServiceGetEvaluatorVersionOApiResult{}
	ctx = l.injectRPCInfo(ctx, "GetEvaluatorVersionOApi")
	if err := chain(ctx, arg, result); err != nil {
		return nil, err
	}
	return result.GetSuccess(), nil
}

// RunEvaluatorOApi
// 2.4 执行评估器
func (l *LocalEvaluationOpenAPIService) RunEvaluatorOApi(ctx context.Context, req *openapi.RunEvaluatorOApiRequest, callOptions ...callopt.Option) (*openapi.RunEvaluatorOApiResponse, error) {
	chain := l.mds(func(ctx context.Context, in, out interface{}) error {
		arg := in.(*openapi.EvaluationOpenAPIServiceRunEvaluatorOApiArgs)
		result := out.(*openapi.EvaluationOpenAPIServiceRunEvaluatorOApiResult)
		resp, err := l.impl.RunEvaluatorOApi(ctx, arg.Req)
		if err != nil {
			return err
		}
		result.SetSuccess(resp)
		return nil
	})

	arg := &openapi.EvaluationOpenAPIServiceRunEvaluatorOApiArgs{Req: req}
	result := &openapi.EvaluationOpenAPIServiceRunEvaluatorOApiResult{}
	ctx = l.injectRPCInfo(ctx, "RunEvaluatorOApi")
	if err := chain(ctx, arg, result); err != nil {
		return nil, err
	}
	return result.GetSuccess(), nil
}

// GetEvaluatorRecordOApi
// 2.5 获取评估器执行结果
func (l *LocalEvaluationOpenAPIService) GetEvaluatorRecordOApi(ctx context.Context, req *openapi.GetEvaluatorRecordOApiRequest, callOptions ...callopt.Option) (*openapi.GetEvaluatorRecordOApiResponse, error) {
	chain := l.mds(func(ctx context.Context, in, out interface{}) error {
		arg := in.(*openapi.EvaluationOpenAPIServiceGetEvaluatorRecordOApiArgs)
		result := out.(*openapi.EvaluationOpenAPIServiceGetEvaluatorRecordOApiResult)
		resp, err := l.impl.GetEvaluatorRecordOApi(ctx, arg.Req)
		if err != nil {
			return err
		}
		result.SetSuccess(resp)
		return nil
	})

	arg := &openapi.EvaluationOpenAPIServiceGetEvaluatorRecordOApiArgs{Req: req}
	result := &openapi.EvaluationOpenAPIServiceGetEvaluatorRecordOApiResult{}
	ctx = l.injectRPCInfo(ctx, "GetEvaluatorRecordOApi")
	if err := chain(ctx, arg, result); err != nil {
		return nil, err
	}
	return result.GetSuccess(), nil
}

// CreateExperimentOApi
// 评测实验接口 (2个)
// 3.1 创建评测实验
func (l *LocalEvaluationOpenAPIService) CreateExperimentOApi(ctx context.Context, req *openapi.CreateExperimentOApiRequest, callOptions ...callopt.Option) (*openapi.CreateExperimentOApiResponse, error) {
	chain := l.mds(func(ctx context.Context, in, out interface{}) error {
		arg := in.(*openapi.EvaluationOpenAPIServiceCreateExperimentOApiArgs)
		result := out.(*openapi.EvaluationOpenAPIServiceCreateExperimentOApiResult)
		resp, err := l.impl.CreateExperimentOApi(ctx, arg.Req)
		if err != nil {
			return err
		}
		result.SetSuccess(resp)
		return nil
	})

	arg := &openapi.EvaluationOpenAPIServiceCreateExperimentOApiArgs{Req: req}
	result := &openapi.EvaluationOpenAPIServiceCreateExperimentOApiResult{}
	ctx = l.injectRPCInfo(ctx, "CreateExperimentOApi")
	if err := chain(ctx, arg, result); err != nil {
		return nil, err
	}
	return result.GetSuccess(), nil
}

// GetExperimentResultOApi
// 3.2 获取评测实验结果
func (l *LocalEvaluationOpenAPIService) GetExperimentResultOApi(ctx context.Context, req *openapi.GetExperimentResultOApiRequest, callOptions ...callopt.Option) (*openapi.GetExperimentResultOApiResponse, error) {
	chain := l.mds(func(ctx context.Context, in, out interface{}) error {
		arg := in.(*openapi.EvaluationOpenAPIServiceGetExperimentResultOApiArgs)
		result := out.(*openapi.EvaluationOpenAPIServiceGetExperimentResultOApiResult)
		resp, err := l.impl.GetExperimentResultOApi(ctx, arg.Req)
		if err != nil {
			return err
		}
		result.SetSuccess(resp)
		return nil
	})

	arg := &openapi.EvaluationOpenAPIServiceGetExperimentResultOApiArgs{Req: req}
	result := &openapi.EvaluationOpenAPIServiceGetExperimentResultOApiResult{}
	ctx = l.injectRPCInfo(ctx, "GetExperimentResultOApi")
	if err := chain(ctx, arg, result); err != nil {
		return nil, err
	}
	return result.GetSuccess(), nil
}

func (l *LocalEvaluationOpenAPIService) injectRPCInfo(ctx context.Context, method string) context.Context {
	rpcStats := rpcinfo.AsMutableRPCStats(rpcinfo.NewRPCStats())
	ri := rpcinfo.NewRPCInfo(
		rpcinfo.NewEndpointInfo("EvaluationOpenAPIService", method, nil, nil),
		rpcinfo.NewEndpointInfo("EvaluationOpenAPIService", method, nil, nil),
		rpcinfo.NewServerInvocation(),
		nil,
		rpcStats.ImmutableView(),
	)
	return rpcinfo.NewCtxWithRPCInfo(ctx, ri)
}
