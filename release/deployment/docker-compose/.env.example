# FaaS服务配置示例
# 复制此文件为 .env 并根据需要修改配置

# ===========================================
# FaaS服务运行模式配置
# ===========================================

# FaaS运行模式: basic(基础模式) 或 enhanced(增强模式)
# basic: 简单代码执行，无池管理，资源占用少
# enhanced: 沙箱池+任务调度，高并发性能优化
FAAS_MODE=enhanced

# FaaS服务端口
COZE_LOOP_FAAS_PORT=8889

# ===========================================
# 基础配置 (两种模式都生效)
# ===========================================

# 工作空间目录
FAAS_WORKSPACE=/tmp/faas-workspace

# 默认代码执行超时时间(毫秒)
FAAS_TIMEOUT=30000

# ===========================================
# 增强模式配置 (仅在FAAS_MODE=enhanced时生效)
# ===========================================

# 沙箱池配置
FAAS_POOL_SIZE=10                # 预热实例数量
FAAS_MAX_INSTANCES=50            # 最大实例数
FAAS_WORKER_COUNT=10             # 工作协程数

# 功能开关 (true/false)
FAAS_ENABLE_POOL=true            # 启用沙箱池
FAAS_ENABLE_SCHEDULER=true       # 启用任务调度器
FAAS_ENABLE_METRICS=true         # 启用指标监控

# ===========================================
# 资源限制配置
# ===========================================

# Docker资源限制
FAAS_MEMORY_LIMIT=2G             # 内存限制
FAAS_CPU_LIMIT=1.0               # CPU限制
FAAS_MEMORY_RESERVE=512M         # 内存预留
FAAS_CPU_RESERVE=0.5             # CPU预留

# ===========================================
# 其他服务配置 (保持原有配置)
# ===========================================

# Redis配置
COZE_LOOP_REDIS_DOMAIN=coze-loop-redis
COZE_LOOP_REDIS_PORT=6379
COZE_LOOP_REDIS_PASSWORD=your_redis_password

# MySQL配置  
COZE_LOOP_MYSQL_DOMAIN=coze-loop-mysql
COZE_LOOP_MYSQL_PORT=3306
COZE_LOOP_MYSQL_USER=root
COZE_LOOP_MYSQL_PASSWORD=your_mysql_password
COZE_LOOP_MYSQL_DATABASE=coze_loop

# 其他服务配置...
# (此处省略其他服务的配置项)